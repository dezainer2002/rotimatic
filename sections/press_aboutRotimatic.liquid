{% assign ss = section.settings %}

<div class="press_aboutRotimatic">
  <div class="page-width">
    {% if ss.title != blank %}
      <h2>{{ ss.title }}</h2>
    {% endif %}

    <div class="pressAboutRotimatic_wrapper">
      {% for block in section.blocks %}
        {% assign b = block.settings %}
        <div class="pressAboutRotimatic_Item">
          {% if b.link != blank %}
            <a href="{{ b.link }}" target="_blank">
              {% if b.image != blank %}
                <img src="{{ b.image | img_url: '200x200' }}" alt="{{ b.content | truncate: 20 }}" style="width: {{ b.iconWidth | append: 'px' }}">
              {% endif %}
            </a>
            <a href="{{ b.link }}" target="_blank">
              {% if b.content != blank %}
                <p class="tertiary-font-size">
                  {{ b.content }}
                </p>
              {% endif %}
            </a>
          {% else %}
            {% if b.image != blank %}
              <img src="{{ b.image | img_url: '200x200' }}" alt="{{ b.content | truncate: 20 }}" style="width: {{ b.iconWidth | append: 'px' }}">
            {% endif %}

            {% if b.content != blank %}
              <p class="tertiary-font-size">
                {{ b.content }}
              </p>
            {% endif %}
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name"      :   "About Rotimatic",
  "class"     :   "pressAboutRotimatic",
  "settings"  :   [
    {
      "type"        :   "text",
      "id"          :   "title",
      "label"       :   "Add Heading"
    }
  ],
  "blocks"    :   [
    {
      "type"      :   "blockIs",
      "name"      :   "Block",
      "settings"  :   [
        {
          "type"      :   "image_picker",
          "id"        :   "image",
          "label"     :   "Upload Icon"
        },
        {
          "type"      :   "range",
          "id"        :   "iconWidth",
          "label"     :   "Icon Width",
          "unit"      :   "px",
          "min"       :   25,
          "max"       :   200,
          "step"      :   5,
          "default"   :   50
        },
        {
          "type"      :   "textarea",
          "id"        :   "content",
          "label"     :   "Content"
        },
        {
          "type"      :   "url",
          "id"        :   "link",
          "label"     :   "Link"
        }
      ]
    }
  ]
}
{% endschema %}

